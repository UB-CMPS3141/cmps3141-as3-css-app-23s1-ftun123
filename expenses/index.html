<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Load the Mavo library and bind the expenses data -->
        <ma-data v-model="expenses" src="https://raw.githubusercontent.com/UB-CMPS3141/cmps3141-as3-css-app-23s1-ftun123/main/expenses/data.json"></ma-data>

        <div class="container">
            <h1>Expense Manager</h1>

            <!-- Input fields for adding a new expense -->
            <div class="expense-input">
                <label for="expenseTitle">Expense Title:</label>
                <input type="text" id="expenseTitle" v-model="newExpense.title">
            </div>
            <div class="expense-input">
                <label for="expenseAmount">Expense Amount (BZD):</label>
                <input type="number" id="expenseAmount" v-model="newExpense.amount">
            </div>
            <div class="expense-input">
                <label for="expensePayer">Payer (N or T):</label>
                <input type="text" id="expensePayer" v-model="newExpense.payer">
            </div>
            <div class="expense-input">
                <label for="expensePayee">Payee (N or T):</label>
                <input type="text" id="expensePayee" v-model="newExpense.payee">
            </div>
            <div class="expense-input">
                <label for="expenseDate">Expense Date:</label>
                <input type="date" id="expenseDate" v-model="newExpense.date">
            </div>
            <div class="expense-input">
                <label for="expenseCurrency">Expense Currency:</label>
                <select id="expenseCurrency" v-model="newExpense.currency">
                    <option value="BZD">BZD</option>
                    <option value="MXN">MXN</option>
                    <option value="GTQ">GTQ</option>
                </select>
            </div>

            <!-- Button to add the new expense -->
            <button @click="addExpense">Add Expense</button>
        </div>

        <!-- Trinity's Expenses Table -->
        <div class="container">
            <h2>Trinity's Expenses</h2>
            <table>
                <thead>
                    <tr>
                        <th>Expense Title</th>
                        <th>Amount</th>
                        <th>Currency</th>
                        <th>Payer</th>
                        <th>Payee</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(expense, index) in trinityExpenses" :key="index">
                        <td>{{ expense.title }}</td>
                        <td>{{ expense.amount }}</td>
                        <td>{{ expense.currency }}</td>
                        <td>{{ expense.payer }}</td>
                        <td>{{ expense.payee }}</td>
                        <td>{{ expense.date }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Neo's Expenses Table -->
        <div class="container">
            <h2>Neo's Expenses</h2>
            <table>
                <thead>
                    <tr>
                        <th>Expense Title</th>
                        <th>Amount</th>
                        <th>Currency</th>
                        <th>Payer</th>
                        <th>Payee</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(expense, index) in neoExpenses" :key="index">
                        <td>{{ expense.title }}</td>
                        <td>{{ expense.amount }}</td>
                        <td>{{ expense.currency }}</td>
                        <td>{{ expense.payer }}</td>
                        <td>{{ expense.payee }}</td>
                        <td>{{ expense.date }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Joint Expenses Table -->
        <div class="container">
            <h2>Joint Expenses</h2>
            <table>
                <thead>
                    <tr>
                        <th>Expense Title</th>
                        <th>Amount</th>
                        <th>Currency</th>
                        <th>Payer</th>
                        <th>Payee</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(expense, index) in jointExpenses" :key="index">
                        <td>{{ expense.title }}</td>
                        <td>{{ expense.amount }}</td>
                        <td>{{ expense.currency }}</td>
                        <td>{{ expense.payer }}</td>
                        <td>{{ expense.payee }}</td>
                        <td>{{ expense.date }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Total balance calculations -->
        <div class="container">
            <h2>Total Balances</h2>
            <p>Trinity's Balance: {{ trinity_balance }} BZD</p>
            <p>Neo's Balance: {{ neo_balance }} BZD</p>
            <p>Joint Balance: {{ joint_balance }} BZD</p>
        </div>
    </div>

    <script src="https://mavue.mavo.io/mavue.js"></script>
    <script src="index.js" type="module"></script>
</body>
</html>
